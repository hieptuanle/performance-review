const _ = require("lodash");

const forms = [
  {
    code: "D79",
    displayName: "Nguyễn Thị Mỹ Linh",
    department: "Training",
    position: "Chuyên viên đào tạo và phát triển",
    managerName: "Trần Anh Dũng",
    managerCode: "F688",
    email: "dungtran@4-handy.com",
  },
  {
    code: "D717",
    displayName: "Vũ Thúy Nhật",
    department: "Training",
    position: "Chuyên viên đào tạo và phát triển",
    managerName: "Trần Anh Dũng",
    managerCode: "F688",
    email: "dungtran@4-handy.com",
  },
  {
    code: "D479",
    displayName: "Nguyễn Minh Ngọc",
    department: "Training",
    position: "Chuyên viên đào tạo và phát triển",
    managerName: "Trần Anh Dũng",
    managerCode: "F688",
    email: "dungtran@4-handy.com",
  },
  {
    code: "D93",
    displayName: "Nguyễn Thúy Vi",
    department: "VM",
    position: "Chuyên viên đào tạo và phát triển",
    managerName: "Trần Anh Dũng",
    managerCode: "F688",
    email: "dungtran@4-handy.com",
  },
  {
    code: "D5093",
    displayName: "Nguyễn Kim Hưng",
    department: "Purchasing",
    position: "Chuyên viên mua hàng",
    managerName: "Vy Tuấn Anh",
    managerCode: "F262",
    email: "anhvt@savor.vn",
  },
  {
    code: "D5169",
    displayName: "Vũ Thị Linh Chi",
    department: "Purchasing",
    position: "Chuyên viên mua hàng",
    managerName: "Vy Tuấn Anh",
    managerCode: "F262",
    email: "anhvt@savor.vn",
  },
  {
    code: "D5841",
    displayName: "Lò Thị Khánh Lâm",
    department: "Purchasing",
    position: "Chuyên viên mua hàng",
    managerName: "Vy Tuấn Anh",
    managerCode: "F262",
    email: "anhvt@savor.vn",
  },
  {
    code: "D4309",
    displayName: "Nguyễn Văn Cương",
    department: "BS",
    position: "Chuyên viên phân tích dữ liệu",
    managerName: "Vy Tuấn Anh",
    managerCode: "F262",
    email: "anhvt@savor.vn",
  },
  {
    code: "D703",
    displayName: "Nguyễn Huyền Trang",
    department: "LEGAL",
    position: "Chuyên viên pháp chế",
    managerName: "Lê Tuấn Hiệp",
    managerCode: "F432",
    email: "hieptuanle@gmail.com",
  },
  {
    code: "D7954",
    displayName: "Dương Văn Vững",
    department: "HR1",
    position: "Chuyên viên Tuyển dụng",
    managerName: "Trần Anh Dũng",
    managerCode: "F688",
    email: "dungtran@4-handy.com",
  },
  {
    code: "D7287",
    displayName: "Doãn Thị Ngọc Ánh",
    department: "HR2",
    position: "Chuyên viên Tuyển dụng",
    managerName: "Trần Anh Dũng",
    managerCode: "F688",
    email: "dungtran@4-handy.com",
  },
  {
    code: "S110",
    displayName: "Nguyễn Văn Việt",
    department: "MEDIA",
    position: "Graphic Designer",
    managerName: "Vy Tuấn Anh",
    managerCode: "F262",
    email: "anhvt@savor.vn",
  },
  {
    code: "E73",
    displayName: "Nguyễn Anh Tú",
    department: "HC",
    position: "IT helpdesk",
    managerName: "Trần Anh Dũng",
    managerCode: "F688",
    email: "dungtran@4-handy.com",
  },
  {
    code: "D5939",
    displayName: "Nguyễn Đắc Dũng",
    department: "KT",
    position: "Kế toán tổng hợp",
    managerName: "Lê Tuấn Hiệp",
    managerCode: "F432",
    email: "hieptuanle@gmail.com",
  },
  {
    code: "D4553",
    displayName: "Nguyễn Minh Hùng",
    department: "KIEMTOAN",
    position: "Kiểm toán viên nội bộ",
    managerName: "Dương Thị Nhung",
    managerCode: "S39",
    email: "Nhungdt.259@gmail.com",
  },
  {
    code: "S78",
    displayName: "Bùi Thị Hương",
    department: "KIEMTOAN",
    position: "Kiểm toán viên nội bộ",
    managerName: "Dương Thị Nhung",
    managerCode: "S39",
    email: "Nhungdt.259@gmail.com",
  },
  {
    code: "D5915",
    displayName: "Phùng Hải Long",
    department: "KIEMTOAN",
    position: "Kiểm toán viên nội bộ",
    managerName: "Dương Thị Nhung",
    managerCode: "S39",
    email: "Nhungdt.259@gmail.com",
  },
  {
    code: "E09",
    displayName: "Chu Huy Thắng",
    department: "TECH",
    position: "Lập trình viên Full stack",
    managerName: "Lê Tuấn Hiệp",
    managerCode: "F432",
    email: "hieptuanle@gmail.com",
  },
  {
    code: "D708",
    displayName: "Đinh Phương Thảo",
    department: "TECH",
    position: "Lập trình viên Full stack",
    managerName: "Lê Tuấn Hiệp",
    managerCode: "F432",
    email: "hieptuanle@gmail.com",
  },
  {
    code: "D8492",
    displayName: "Vương Cẩm Tú",
    department: "LOGISTICS",
    position: "Nhân viên điều phối Full - time",
    managerName: "Dương Thị Nhung",
    managerCode: "S39",
    email: "Nhungdt.259@gmail.com",
  },
  {
    code: "D7886",
    displayName: "Đàm Dĩnh Thanh",
    department: "QC",
    position: "Nhân viên giám sát chất lượng",
    managerName: "Dương Thị Nhung",
    managerCode: "S39",
    email: "Nhungdt.259@gmail.com",
  },
  {
    code: "D6794",
    displayName: "Hoàng Đình Hiếu",
    department: "VHKV",
    position: "Nhân viên giám sát chất lượng",
    managerName: "Trần Anh Dũng",
    managerCode: "F688",
    email: "dungtran@4-handy.com",
  },
  {
    code: "D2537",
    displayName: "Nguyễn Văn Thao",
    department: "HC",
    position: "Nhân viên kỹ thuật điện nước",
    managerName: "Trần Anh Dũng",
    managerCode: "F688",
    email: "dungtran@4-handy.com",
  },
  {
    code: "D337",
    displayName: "Nguyễn Thành Nam",
    department: "R&D",
    position: "Nhân viên phát triển sản phẩm",
    managerName: "Vy Tuấn Anh",
    managerCode: "F262",
    email: "anhvt@savor.vn",
  },
  {
    code: "D327",
    displayName: "Dương Thị Nhung",
    department: "BOM",
    position: "Quality Supervisor Manager",
    managerName: "Vy Tuấn Anh",
    managerCode: "F262",
    email: "anhvt@savor.vn",
  },
  {
    code: "C635",
    displayName: "Bùi Thu Trang",
    department: "ĐG",
    position: "Quản lý đóng gói",
    managerName: "Trần Phương Anh",
    managerCode: "S235",
    email: "phuonganh24.1998@gmail.com",
  },
  {
    code: "D557",
    displayName: "Vũ Thị Lành",
    department: "BẾP BÁNH",
    position: "Quản lý sản xuất bếp",
    managerName: "Trần Phương Anh",
    managerCode: "S235",
    email: "phuonganh24.1998@gmail.com",
  },
  {
    code: "D583",
    displayName: "Nguyễn Thế Anh",
    department: "R&D",
    position: "Quản lý sản xuất bếp",
    managerName: "Vy Tuấn Anh",
    managerCode: "F262",
    email: "anhvt@savor.vn",
  },
  {
    code: "D1394",
    displayName: "Nguyễn Trường Giang",
    department: "Bếp",
    position: "Quản lý sản xuất bếp",
    managerName: "Trần Phương Anh",
    managerCode: "S235",
    email: "phuonganh24.1998@gmail.com",
  },
  {
    code: "D3982",
    displayName: "Hoàng Văn Luýt",
    department: "KHO",
    position: "Quản lý vận hành kho",
    managerName: "Dương Thị Nhung",
    managerCode: "S39",
    email: "Nhungdt.259@gmail.com",
  },
  {
    code: "S41",
    displayName: "Nguyễn Hữu Long",
    department: "KHO",
    position: "Quản lý vận hành kho",
    managerName: "Trần Phương Anh",
    managerCode: "S235",
    email: "phuonganh24.1998@gmail.com",
  },
  {
    code: "D388",
    displayName: "Trần Phương Anh",
    department: "BOM",
    position: "Trưởng phòng kho vận",
    managerName: "Vy Tuấn Anh",
    managerCode: "F262",
    email: "anhvt@savor.vn",
  },
  {
    code: "D3267",
    displayName: "Giang Hương Ly",
    department: "MKT",
    position: "Chuyên viên marketing",
    managerName: "Lê Tuấn Hiệp",
    managerCode: "F432",
    email: "hieptuanle@gmail.com",
  },
  {
    code: "D11115",
    displayName: "Nguyễn Minh Ngọc",
    department: "KT",
    position: "Kế toán tổng hợp",
    managerName: "Lê Tuấn Hiệp",
    managerCode: "F432",
    email: "hieptuanle@gmail.com",
  },
  {
    code: "D6537",
    displayName: "Đỗ Mai Khuyên",
    department: "KT",
    position: "Kế toán tổng hợp",
    managerName: "Lê Tuấn Hiệp",
    managerCode: "F432",
    email: "hieptuanle@gmail.com",
  },
  {
    code: "D8013",
    displayName: "Lý Trung Hậu",
    department: "CB",
    position: "Nhân sự tổng hợp",
    managerName: "Trần Anh Dũng",
    managerCode: "F688",
    email: "dungtran@4-handy.com",
  },
  {
    code: "C997",
    displayName: "Nguyễn Thị Nguyên",
    department: "Sale",
    position: "Nhân viên kinh doanh",
    managerName: "Trần Anh Dũng",
    managerCode: "F688",
    email: "dungtran@4-handy.com",
  },
  {
    code: "D1906",
    displayName: "Nguyễn Quang Bình",
    department: "CSKH",
    position: "Chăm sóc khách hàng",
    managerName: "Trần Anh Dũng",
    managerCode: "F688",
    email: "dungtran@4-handy.com",
  },
  {
    code: "D11150",
    displayName: "Trương Thị Trà Giang",
    department: "KHO",
    position: "Quản lý vận hành kho",
    managerName: "Trần Phương Anh",
    managerCode: "S235",
    email: "phuonganh24.1998@gmail.com",
  },
  {
    code: "D3962",
    displayName: "Nguyễn Thị Duyên",
    department: "BẾP SAVOR",
    position: "Quản lý sản xuất bếp",
    managerName: "Trần Phương Anh",
    managerCode: "S235",
    email: "phuonganh24.1998@gmail.com",
  },
  {
    code: "D11054",
    displayName: "Nguyễn Đình Kháng",
    department: "Purchasing",
    position: "Chuyên viên mua hàng",
    managerName: "Vy Tuấn Anh",
    managerCode: "F262",
    email: "anhvt@savor.vn",
  },
  {
    code: "D6767",
    displayName: "Lưu Thị Phương Anh",
    department: "Purchasing",
    position: "Chuyên viên mua hàng",
    managerName: "Vy Tuấn Anh",
    managerCode: "F262",
    email: "anhvt@savor.vn",
  },
  {
    code: "D9985",
    displayName: "Nguyễn Thanh Thủy",
    department: "Bếp",
    position: "Thợ bánh",
    managerName: "Trần Phương Anh",
    managerCode: "S235",
    email: "phuonganh24.1998@gmail.com",
  },
  {
    code: "D9601",
    displayName: "Nguyễn Thị Thùy",
    department: "Bếp",
    position: "Thợ bánh",
    managerName: "Trần Phương Anh",
    managerCode: "S235",
    email: "phuonganh24.1998@gmail.com",
  },
  {
    code: "D9906",
    displayName: "Nguyễn Thị Ngọc Trâm",
    department: "Bếp",
    position: "Thợ bánh",
    managerName: "Trần Phương Anh",
    managerCode: "S235",
    email: "phuonganh24.1998@gmail.com",
  },
  {
    code: "D8132",
    displayName: "Hoàng Anh Tuấn",
    department: "Tài xế",
    position: "Tài xế",
    managerName: "Trần Phương Anh",
    managerCode: "S235",
    email: "phuonganh24.1998@gmail.com",
  },
  {
    code: "D7721",
    displayName: "Trịnh Văn Tiến",
    department: "Tài xế",
    position: "Tài xế",
    managerName: "Trần Phương Anh",
    managerCode: "S235",
    email: "phuonganh24.1998@gmail.com",
  },
  {
    code: "D6100",
    displayName: "Vũ Trường Sơn",
    department: "KHO",
    position: "Quản lý vận hành kho",
    managerName: "Trần Phương Anh",
    managerCode: "S235",
    email: "phuonganh24.1998@gmail.com",
  },
];

const managers = _.map(
  _.reduce(
    forms,
    (result, form) => {
      if (form.managerCode) {
        result[form.managerCode] = result[form.managerCode] || {
          code: form.managerCode,
          displayName: form.managerName,
          reviewees: [],
        };
        result[form.managerCode].reviewees.push(form);
      }
      return result;
    },
    {}
  )
);

const isManager = (code) => {
  return _.find(managers, { code: code });
};

const getRevieweesForManager = (code) => {
  return _.find(managers, { code: code }).reviewees;
};

module.exports = {
  isManager,
  getRevieweesForManager,
};
